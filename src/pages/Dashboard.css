/* ==============================================
   Dashboard â€” Full-Viewport Conservation Layout
   Map-dominant with a compact sidebar, no scroll
   ============================================== */

.dashboard {
    max-width: var(--max-content-width);
    margin: 0 auto;
    padding: var(--sp-8) var(--sp-16);
    display: flex;
    flex-direction: column;
    gap: var(--sp-8);
    height: calc(100vh - var(--header-height));
    overflow: hidden;
}

/* --- Data Freshness / Quick Actions Bar --- */
.dashboard__status-bar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-shrink: 0;
    padding: var(--sp-4) var(--sp-12);
    background: rgba(45, 106, 79, 0.04);
    border: 1px solid rgba(45, 106, 79, 0.08);
    border-radius: var(--radius-md);
}

.dashboard__status-left {
    display: flex;
    align-items: center;
    gap: var(--sp-8);
}

.dashboard__status-dot {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: #40916C;
    animation: pulse-status 2s infinite;
    flex-shrink: 0;
}

@keyframes pulse-status {

    0%,
    100% {
        opacity: 1;
    }

    50% {
        opacity: 0.4;
    }
}

.dashboard__status-text {
    font-size: 11px;
    color: var(--black-muted);
    font-weight: var(--fw-medium);
    letter-spacing: 0.02em;
}

.dashboard__quick-actions {
    display: flex;
    gap: var(--sp-4);
}

.dashboard__action-btn {
    display: flex;
    align-items: center;
    gap: 4px;
    padding: var(--sp-4) var(--sp-12);
    font-size: 11px;
    font-weight: var(--fw-semibold);
    color: var(--forest);
    background: rgba(45, 106, 79, 0.06);
    border: 1px solid rgba(45, 106, 79, 0.12);
    border-radius: var(--radius-sm);
    text-decoration: none;
    transition: all 0.15s ease;
    white-space: nowrap;
}

.dashboard__action-btn:hover {
    background: rgba(45, 106, 79, 0.12);
    border-color: rgba(45, 106, 79, 0.2);
}

/* --- Premium Minimal Ticker Banner --- */
.dashboard__ticker-wrap {
    flex-grow: 1;
    margin-right: var(--sp-16);
    height: 32px;
    /* Match the status-bar button height */
    display: flex;
    align-items: center;
    white-space: nowrap;
    position: relative;
    z-index: 2;
    overflow: hidden;
    /* Transparent background allowing the LiquidGlass to render over the pseudo-background */
    background: transparent;
    border-radius: var(--radius-full);
    /* Elegant fade out at the edges */
    -webkit-mask-image: linear-gradient(to right, transparent, black 16px, black calc(100% - 16px), transparent);
    mask-image: linear-gradient(to right, transparent, black 16px, black calc(100% - 16px), transparent);
}

/* Glowing Orbs behind the glass to create refraction effect */
.dashboard__ticker-bg {
    position: absolute;
    inset: 0;
    overflow: hidden;
    border-radius: var(--radius-full);
    z-index: 0;
    /* Behind the glass */
    background: #f4f7f5;
}

.dashboard__ticker-orb-1,
.dashboard__ticker-orb-2 {
    position: absolute;
    border-radius: 50%;
    filter: blur(28px);
    opacity: 0.6;
    animation: orbFloat 10s ease-in-out infinite alternate;
}

.dashboard__ticker-orb-1 {
    width: 250px;
    height: 120px;
    background: #52B788;
    top: -30px;
    left: 10%;
}

.dashboard__ticker-orb-2 {
    width: 180px;
    height: 90px;
    background: #D8F3DC;
    bottom: -20px;
    right: 20%;
    animation-delay: -5s;
}

@keyframes orbFloat {
    0% {
        transform: translate(0, 0) scale(1);
    }

    100% {
        transform: translate(60px, 10px) scale(1.1);
    }
}

.dashboard__ticker {
    display: inline-block;
    padding-left: 100%;
    animation: ticker 40s linear infinite;
    /* Hardware acceleration to fix scroll lag */
    will-change: transform;
    /* Slower, smoother speed */
    font-size: 11px;
    font-weight: var(--fw-semibold);
    color: var(--black);
    letter-spacing: 0.04em;
    text-transform: uppercase;
}

.dashboard__ticker:hover {
    animation-play-state: paused;
}

.dashboard__ticker-content {
    display: inline-flex;
    align-items: center;
    gap: var(--sp-24);
    /* Breathing room */
    padding-right: 50px;
}

.dashboard__ticker-content span {
    opacity: 0.3;
    font-size: 6px;
    /* Tiny aesthetic dot */
    color: var(--black-muted);
}

@keyframes ticker {
    0% {
        transform: translate3d(0, 0, 0);
    }

    100% {
        transform: translate3d(-100%, 0, 0);
    }
}

/* --- Split Panel --- */
.dashboard__split {
    display: grid;
    grid-template-columns: 1fr var(--sidebar-width);
    gap: var(--sp-12);
    flex: 1;
    min-height: 0;
}

/* Map Panel */
.dashboard__map-panel {
    border-radius: var(--radius-lg);
    overflow: hidden;
    box-shadow: var(--shadow-md);
    border: 1px solid rgba(0, 0, 0, 0.06);
}

/* Info Panel */
.dashboard__info-panel {
    display: flex;
    flex-direction: column;
    background: var(--white);
    border-radius: var(--radius-lg);
    border: 1px solid rgba(0, 0, 0, 0.06);
    box-shadow: var(--shadow-md);
    overflow: hidden;
    min-height: 0;
}

/* --- Tabs --- */
.dashboard__tabs {
    display: flex;
    border-bottom: 1px solid rgba(0, 0, 0, 0.06);
    padding: var(--sp-4);
    gap: var(--sp-4);
    flex-shrink: 0;
    background: var(--cream-soft);
}

.dashboard__tab {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--sp-6);
    padding: var(--sp-6) var(--sp-12);
    border: none;
    background: transparent;
    border-radius: var(--radius-md);
    font-size: var(--fs-sm);
    font-weight: var(--fw-semibold);
    color: var(--black-muted);
    cursor: pointer;
    transition: all var(--duration-fast) var(--ease-out);
}

.dashboard__tab:hover {
    color: var(--black);
    background: rgba(0, 0, 0, 0.04);
}

.dashboard__tab--active {
    color: var(--forest);
    background: var(--white);
    box-shadow: var(--shadow-sm);
}

.dashboard__tab-count {
    font-size: 10px;
    font-weight: var(--fw-bold);
    background: var(--forest-glow);
    color: var(--forest);
    padding: 1px 6px;
    border-radius: var(--radius-full);
}

/* --- Tab Content --- */
.dashboard__tab-content {
    flex: 1;
    overflow-y: auto;
    padding: var(--sp-6);
    min-height: 0;
}

/* --- Alert Items --- */
.dashboard__alert-list,
.dashboard__news-list {
    display: flex;
    flex-direction: column;
    gap: var(--sp-2);
}

.dashboard__alert-item {
    display: flex;
    align-items: center;
    gap: var(--sp-8);
    padding: var(--sp-8) var(--sp-8);
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all var(--duration-fast) var(--ease-out);
    border: 1px solid transparent;
}

.dashboard__alert-item:hover {
    background: var(--cream);
    border-color: var(--cream-border);
}

.dashboard__alert-dot {
    width: 7px;
    height: 7px;
    border-radius: 50%;
    background: var(--severity);
    flex-shrink: 0;
    animation: pulse-alert 2s infinite;
}

@keyframes pulse-alert {

    0%,
    100% {
        opacity: 1;
    }

    50% {
        opacity: 0.4;
    }
}

.dashboard__alert-info {
    flex: 1;
    min-width: 0;
}

.dashboard__alert-type {
    display: block;
    font-size: 10px;
    font-weight: var(--fw-semibold);
    color: var(--black);
    text-transform: uppercase;
    letter-spacing: 0.04em;
}

.dashboard__alert-location {
    display: block;
    font-size: var(--fs-xs);
    color: var(--black-muted);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.dashboard__alert-meta {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    flex-shrink: 0;
}

.dashboard__alert-severity {
    font-size: 10px;
    font-weight: var(--fw-bold);
    text-transform: uppercase;
    letter-spacing: 0.04em;
}

.dashboard__alert-time {
    font-size: 9px;
    color: var(--black-faint);
}

/* --- News Items --- */
.dashboard__news-item {
    padding: var(--sp-8);
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all var(--duration-fast) var(--ease-out);
    border: 1px solid transparent;
}

.dashboard__news-item:hover {
    background: var(--cream);
    border-color: var(--cream-border);
}

.dashboard__news-category {
    display: inline-block;
    padding: 1px 6px;
    border-radius: var(--radius-full);
    margin-bottom: var(--sp-4);
}

.dashboard__news-category span {
    font-size: 9px;
    font-weight: var(--fw-bold);
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.dashboard__news-title {
    font-size: var(--fs-xs);
    font-weight: var(--fw-semibold);
    color: var(--black);
    line-height: 1.4;
    margin-bottom: var(--sp-4);
    display: -webkit-box;
    -webkit-line-clamp: 2;
    line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.dashboard__news-meta {
    display: flex;
    justify-content: space-between;
    font-size: 9px;
    color: var(--black-faint);
}

/* --- Empty State --- */
.dashboard__empty {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: var(--sp-32) var(--sp-16);
    text-align: center;
}

.dashboard__empty-icon {
    margin-bottom: var(--sp-12);
    opacity: 0.3;
}

.dashboard__empty p {
    font-size: var(--fs-sm);
    font-weight: var(--fw-medium);
    color: var(--black-muted);
}

.dashboard__empty span {
    font-size: var(--fs-xs);
    color: var(--black-faint);
    margin-top: var(--sp-4);
}

/* --- FAB (mobile only) --- */
.dashboard__fab {
    display: none;
    position: fixed;
    bottom: 24px;
    right: 24px;
    width: 48px;
    height: 48px;
    border-radius: 50%;
    background: var(--gradient-forest);
    color: var(--white);
    border: none;
    box-shadow: 0 4px 16px rgba(27, 67, 50, 0.35);
    z-index: 800;
    align-items: center;
    justify-content: center;
    transition: all var(--duration-normal) var(--ease-out);
}

.dashboard__fab:hover {
    transform: scale(1.08);
}

.dashboard__fab-count {
    position: absolute;
    top: -2px;
    right: -2px;
    min-width: 16px;
    height: 16px;
    background: var(--alert-red);
    color: var(--white);
    font-size: 9px;
    font-weight: var(--fw-bold);
    border-radius: var(--radius-full);
    display: flex;
    align-items: center;
    justify-content: center;
    border: 2px solid var(--cream);
}

/* --- Responsive --- */
@media (max-width: 1024px) {
    .dashboard__split {
        grid-template-columns: 1fr 300px;
    }

    .dashboard__quick-actions {
        display: none;
    }
}

@media (max-width: 768px) {
    .dashboard {
        padding: var(--sp-12);
        gap: var(--sp-12);
        height: auto;
        min-height: calc(100vh - var(--header-height));
        overflow: visible;
        padding-bottom: 80px;
        /* Space for FAB */
    }

    /* Mobile Specific Overrides */
    .dashboard__action-btn--report {
        display: none;
    }

    .dashboard__status-bar {
        flex-direction: column;
        gap: var(--sp-8);
        align-items: flex-start;
        padding: var(--sp-12);
    }

    .dashboard__split {
        grid-template-columns: 1fr;
        gap: var(--sp-12);
        display: flex;
        flex-direction: column;
    }

    .dashboard__map-panel {
        min-height: 280px;
        height: 38vh;
        position: relative;
        z-index: 1;
        /* Kept natural card styling instead of full bleed edges */
    }

    .dashboard__info-panel {
        max-height: none;
        /* Remove scroll constraint */
        min-height: auto;
        overflow: visible;
        box-shadow: none;
        border: 1px solid rgba(0, 0, 0, 0.08);
        border-radius: var(--radius-lg);
    }

    .dashboard__tab-content {
        max-height: 500px;
        /* Cap it a bit but allow scroll */
    }

    .dashboard__fab {
        display: flex;
    }
}

@media (max-width: 480px) {
    .dashboard__map-panel {
        min-height: 250px;
        height: 35vh;
    }

    .dashboard__status-text {
        font-size: 10px;
    }

    .dashboard__action-btn {
        padding: 6px 10px;
        font-size: 10px;
    }
}